2017-08-23 12:17:55,460INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:11:59,783INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:12:04,857ERROR:Exception on /newuser [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-23 15:12:19,237ERROR:Exception on /newuser [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-23 15:17:06,858INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:17:08,136ERROR:Exception on /auth/login [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/authorview.py", line 36, in login
    return render_template(template_name,title='Sign In',form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/login.html", line 2, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 18, in top-level template code
    <a href="{{ url_for('newuser') }}">Sign Up</a>
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 333, in url_for
    return appctx.app.handle_url_build_error(error, endpoint, values)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1805, in handle_url_build_error
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 323, in url_for
    force_external=external)
  File "/usr/local/lib/python3.6/site-packages/werkzeug/routing.py", line 1768, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.BuildError: Could not build url for endpoint 'newuser'. Did you mean 'newUser' instead?
2017-08-23 15:17:19,521INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:17:21,153ERROR:Exception on /auth/login [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/authorview.py", line 36, in login
    return render_template(template_name,title='Sign In',form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/login.html", line 2, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 18, in top-level template code
    <a href="{{ url_for('newuser') }}">Sign Up</a>
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 333, in url_for
    return appctx.app.handle_url_build_error(error, endpoint, values)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1805, in handle_url_build_error
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 323, in url_for
    force_external=external)
  File "/usr/local/lib/python3.6/site-packages/werkzeug/routing.py", line 1768, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.BuildError: Could not build url for endpoint 'newuser'. Did you mean 'newUser' instead?
2017-08-23 15:17:30,118ERROR:Exception on /auth/login [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/authorview.py", line 36, in login
    return render_template(template_name,title='Sign In',form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/login.html", line 2, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 18, in top-level template code
    <a href="{{ url_for('newuser') }}">Sign Up</a>
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 333, in url_for
    return appctx.app.handle_url_build_error(error, endpoint, values)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1805, in handle_url_build_error
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 323, in url_for
    force_external=external)
  File "/usr/local/lib/python3.6/site-packages/werkzeug/routing.py", line 1768, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.BuildError: Could not build url for endpoint 'newuser'. Did you mean 'newUser' instead?
2017-08-23 15:17:43,422ERROR:Exception on /auth/login [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/authorview.py", line 36, in login
    return render_template(template_name,title='Sign In',form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/login.html", line 2, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 18, in top-level template code
    <a href="{{ url_for('newuser') }}">Sign Up</a>
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 333, in url_for
    return appctx.app.handle_url_build_error(error, endpoint, values)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1805, in handle_url_build_error
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 323, in url_for
    force_external=external)
  File "/usr/local/lib/python3.6/site-packages/werkzeug/routing.py", line 1768, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.BuildError: Could not build url for endpoint 'newuser'. Did you mean 'newUser' instead?
2017-08-23 15:18:59,412INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:19:04,497ERROR:Exception on /newuser [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-23 15:20:35,486INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:20:39,320ERROR:Exception on /newuser [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-23 15:24:50,736INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:24:54,159ERROR:Exception on /newuser [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-23 15:25:59,117INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:26:02,579ERROR:Exception on /newuser [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 159, in newUser
    return render_template('newuser.html',form=form,title = 'Sign Up')
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/newuser.html", line 2, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/newuser.html", line 21, in block "content"
    {{ form.nickname.label }}:{{ form.nickame(size = 24) }}
jinja2.exceptions.UndefinedError: 'app.views.forms.NewUserForm object' has no attribute 'nickame'
2017-08-23 15:29:27,408INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:29:28,671ERROR:Exception on /auth/login [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/authorview.py", line 36, in login
    return render_template(template_name,title='Sign In',form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/login.html", line 2, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 18, in top-level template code
    <a href="{{ url_for('newUser') }}">Sign Up</a>
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 333, in url_for
    return appctx.app.handle_url_build_error(error, endpoint, values)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1805, in handle_url_build_error
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 323, in url_for
    force_external=external)
  File "/usr/local/lib/python3.6/site-packages/werkzeug/routing.py", line 1768, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.BuildError: Could not build url for endpoint 'newUser'. Did you mean 'newuser' instead?
2017-08-23 15:29:42,338INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:29:43,499ERROR:Exception on /auth/login [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/authorview.py", line 36, in login
    return render_template(template_name,title='Sign In',form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/login.html", line 2, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 18, in top-level template code
    <a href="{{ url_for('newUser') }}">Sign Up</a>
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 333, in url_for
    return appctx.app.handle_url_build_error(error, endpoint, values)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1805, in handle_url_build_error
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 323, in url_for
    force_external=external)
  File "/usr/local/lib/python3.6/site-packages/werkzeug/routing.py", line 1768, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.BuildError: Could not build url for endpoint 'newUser'. Did you mean 'newuser' instead?
2017-08-23 15:30:29,476INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:30:33,207ERROR:Exception on /newuser [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 159, in newuser
    return render_template('newuser.html',form=form,title = 'Sign Up')
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/newuser.html", line 2, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/newuser.html", line 21, in block "content"
    {{ form.nickname.label }}:{{ form.nickame(size = 24) }}
jinja2.exceptions.UndefinedError: 'app.views.forms.NewUserForm object' has no attribute 'nickame'
2017-08-23 15:35:30,316INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:35:34,730ERROR:Exception on /newuser [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 159, in newuser
    return render_template('newuser.html',form=form,title = 'Sign Up')
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/newuser.html", line 2, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 32, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/newuser.html", line 21, in block "content"
    {{ form.nickname.label }}:{{ form.nickame(size = 24) }}
jinja2.exceptions.UndefinedError: 'app.views.forms.NewUserForm object' has no attribute 'nickame'
2017-08-23 15:38:25,357INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:38:29,145ERROR:Exception on /newuser [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 155, in newuser
    return render_template('newuser.html', title='Sign Up', form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/newuser.html", line 2, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 32, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/newuser.html", line 21, in block "content"
    {{ form.nickname.label }}:{{ form.nickame(size = 24) }}
jinja2.exceptions.UndefinedError: 'app.views.forms.NewUserForm object' has no attribute 'nickame'
2017-08-23 15:40:16,926INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 15:41:17,723INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-23 17:08:14,027INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-24 09:28:39,317INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 12:57:55,346INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 13:00:49,487INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 13:01:33,763INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:15:15,013INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:20:34,070INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:22:11,213INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:27:42,412INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:31:16,381INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:37:58,301INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:39:34,016INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:40:08,656INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:40:34,715INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:40:58,667INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:42:03,992INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:42:47,655INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:42:56,581INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:43:22,345INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:43:36,330INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:50:29,438INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:52:17,099INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:53:50,514INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 15:59:12,091INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 16:58:16,142INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 17:00:15,299INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 17:00:18,879INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-25 17:01:10,980INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 08:07:52,383INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 08:08:54,479INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 08:10:12,986INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 08:14:12,767INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 08:14:46,735ERROR:Exception on /user/xiaolli [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 82, in user
    posts = posts
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 5, in block "content"
    <td><img src="{{user.get_imagepath()}}" style="display:flex" width="150" height="150"></td>
jinja2.exceptions.UndefinedError: 'app.models.models.Users object' has no attribute 'get_imagepath'
2017-08-28 08:15:21,457INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 08:15:24,284ERROR:Exception on /user/xiaolli [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 82, in user
    posts = posts
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 18, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 2, in top-level template code
    <td><img src ="{{user.get_imagepath()}}" style="display:flex" width="50" height = "50"></td>
jinja2.exceptions.UndefinedError: 'app.models.models.Users object' has no attribute 'get_imagepath'
2017-08-28 08:15:45,166INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 08:24:19,896INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 09:42:45,081INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:01:55,725INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:03:47,720INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:04:45,035INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:05:41,487INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:06:06,024INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:06:25,561INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:07:43,046INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:09:06,848INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:09:45,299INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:10:08,999INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:11:24,748INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:11:41,043INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 16:11:49,073INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:00:21,690INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:04:08,897INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:04:17,757ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 56, in index
    posts = current_user.followed_posts()
  File "/usr/local/lib/python3.6/site-packages/werkzeug/local.py", line 347, in __getattr__
    return getattr(self._get_current_object(), name)
AttributeError: 'Users' object has no attribute 'followed_posts'
2017-08-28 21:07:34,231INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:07:35,745ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 56, in index
    posts = current_user.follow_posts()
  File "/usr/local/lib/python3.6/site-packages/werkzeug/local.py", line 347, in __getattr__
    return getattr(self._get_current_object(), name)
AttributeError: 'Users' object has no attribute 'follow_posts'
2017-08-28 21:07:48,139ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 56, in index
    posts = current_user.follow_posts()
  File "/usr/local/lib/python3.6/site-packages/werkzeug/local.py", line 347, in __getattr__
    return getattr(self._get_current_object(), name)
AttributeError: 'Users' object has no attribute 'follow_posts'
2017-08-28 21:08:57,776INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:11:28,500INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:13:58,012INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:13:59,115ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-28 21:14:53,604INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:15:17,935INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:15:18,872ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-28 21:15:21,603ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-28 21:15:35,413ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-28 21:18:24,423INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:18:25,598ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-28 21:22:14,806INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:24:49,882INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:25:58,399INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:26:00,120ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1615, in full_dispatch_request
    return self.finalize_request(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1630, in finalize_request
    response = self.make_response(rv)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1725, in make_response
    raise ValueError('View function did not return a response')
ValueError: View function did not return a response
2017-08-28 21:27:20,815INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:28:01,071INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:30:18,549INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:32:53,810INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:34:09,463INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:40:00,030INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:41:42,680INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:42:05,944INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:42:20,851INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:42:22,057ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 66, in index
    return render_template(template_name,title = 'Posts',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 133, in render_template
    return _render(ctx.app.jinja_env.get_or_select_template(template_name_or_list),
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 869, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/usr/local/lib/python3.6/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 57, in get_source
    return self._get_source_fast(environment, template)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 85, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: aaaaposts.html
2017-08-28 21:43:56,514INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:46:44,575INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:47:39,493INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:48:55,739INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:49:59,335INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:51:05,405INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-28 21:52:24,493INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 08:10:02,999INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 08:10:31,281INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 08:12:40,002INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 08:19:38,257INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 08:20:12,970INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 08:20:25,302INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 08:42:54,037INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 08:43:53,732INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 08:44:12,785INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 08:44:47,987INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 09:11:07,721INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:14:52,260INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:17:09,252INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:17:10,836ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 61, in index
    posts = current_user.followed_posts()
  File "/usr/local/lib/python3.6/site-packages/werkzeug/local.py", line 347, in __getattr__
    return getattr(self._get_current_object(), name)
AttributeError: 'Users' object has no attribute 'followed_posts'
2017-08-29 11:18:23,861INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:27:35,193INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:32:46,876INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:33:55,741INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:34:58,733INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:36:30,743INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:37:41,807INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:38:42,126INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:41:27,355INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:43:18,121INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 11:45:34,523INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 12:33:04,212INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 12:33:12,809ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1116, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 623, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/dialects/sqlite/base.py", line 742, in process
    raise TypeError("SQLite Time type only accepts Python "
TypeError: SQLite Time type only accepts Python time objects as input.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 49, in addpost
    session.commit()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 906, in commit
    self.transaction.commit()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 461, in commit
    self._prepare_impl()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 441, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2171, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2291, in _flush
    transaction.rollback(_capture_exception=True)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2255, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 389, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 548, in execute
    uow
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 835, in _emit_insert_statements
    execute(statement, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 945, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1121, in _execute_context
    None, None)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1402, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1116, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 623, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/dialects/sqlite/base.py", line 742, in process
    raise TypeError("SQLite Time type only accepts Python "
sqlalchemy.exc.StatementError: (builtins.TypeError) SQLite Time type only accepts Python time objects as input. [SQL: 'INSERT INTO posts (body, timestamp, userid) VALUES (?, ?, ?)'] [parameters: [{'timestamp': datetime.datetime(2017, 8, 29, 4, 33, 12, 808307), 'body': 'sadfghjkl;lkjhgfddfghjk,./.,mn', 'userid': 1}]]
2017-08-29 12:33:37,737INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 12:33:42,674ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1116, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 623, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/dialects/sqlite/base.py", line 742, in process
    raise TypeError("SQLite Time type only accepts Python "
TypeError: SQLite Time type only accepts Python time objects as input.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 49, in addpost
    session.commit()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 906, in commit
    self.transaction.commit()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 461, in commit
    self._prepare_impl()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 441, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2171, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2291, in _flush
    transaction.rollback(_capture_exception=True)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2255, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 389, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 548, in execute
    uow
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 835, in _emit_insert_statements
    execute(statement, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 945, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1121, in _execute_context
    None, None)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1402, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1116, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 623, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/dialects/sqlite/base.py", line 742, in process
    raise TypeError("SQLite Time type only accepts Python "
sqlalchemy.exc.StatementError: (builtins.TypeError) SQLite Time type only accepts Python time objects as input. [SQL: 'INSERT INTO posts (body, timestamp, userid) VALUES (?, ?, ?)'] [parameters: [{'userid': 1, 'body': 'hgjskfgalfgjkkfdgafgjla;fk', 'timestamp': datetime.datetime(2017, 8, 29, 4, 33, 42, 673053)}]]
2017-08-29 12:37:17,660INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 12:37:23,760ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1116, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 623, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/dialects/sqlite/base.py", line 742, in process
    raise TypeError("SQLite Time type only accepts Python "
TypeError: SQLite Time type only accepts Python time objects as input.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 50, in addpost
    session.commit()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 906, in commit
    self.transaction.commit()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 461, in commit
    self._prepare_impl()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 441, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2171, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2291, in _flush
    transaction.rollback(_capture_exception=True)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/session.py", line 2255, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 389, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 548, in execute
    uow
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/persistence.py", line 835, in _emit_insert_statements
    execute(statement, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 945, in execute
    return meth(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1121, in _execute_context
    None, None)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1402, in _handle_dbapi_exception
    exc_info
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/base.py", line 1116, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/engine/default.py", line 623, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/dialects/sqlite/base.py", line 742, in process
    raise TypeError("SQLite Time type only accepts Python "
sqlalchemy.exc.StatementError: (builtins.TypeError) SQLite Time type only accepts Python time objects as input. [SQL: 'INSERT INTO posts (body, timestamp, userid) VALUES (?, ?, ?)'] [parameters: [{'body': 'vvvvvvvvvvvvvvvvvvvvvvv', 'timestamp': datetime.datetime(2017, 8, 29, 4, 37, 23, 755519), 'userid': 1}]]
2017-08-29 12:38:56,514INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 12:40:27,142INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 12:42:25,106INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 12:57:45,327INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 14:28:56,986INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 14:43:28,251INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 15:00:31,492INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 15:02:11,677INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-29 16:35:43,042INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:10:40,978INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:11:34,229INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:22:56,498INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:27:04,606INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:30:16,762INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:33:06,743INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:33:15,655ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 53, in addpost
    y=session.query(Posts).filter_by(user_id).all()
TypeError: filter_by() takes 1 positional argument but 2 were given
2017-08-30 20:34:05,612INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:34:12,119ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 53, in addpost
    y=session.query(Posts).filter_by(user_id)
TypeError: filter_by() takes 1 positional argument but 2 were given
2017-08-30 20:35:01,874INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:39:01,107INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:39:11,921ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 54, in addpost
    y1=session.query(Posts).label()
TypeError: label() missing 1 required positional argument: 'name'
2017-08-30 20:40:04,833INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:49:20,924INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:53:51,531INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 20:55:42,887INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:01:34,334INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:03:49,493INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:05:23,692INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:05:39,855INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:05:54,913INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:06:03,385ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    cur.execute("DELETE * from users")
sqlite3.OperationalError: near "*": syntax error
2017-08-30 21:08:07,670INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:09:35,638INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:10:41,944INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:14:18,120INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:19:56,986INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:21:04,600INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:25:17,718INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:25:26,576ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 61, in addpost
    cur.execute("SELECT * FROM users")
sqlite3.ProgrammingError: Cannot operate on a closed database.
2017-08-30 21:26:04,270INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:27:09,698ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    #cur.execute("DELETE  from users where user_id <> 'xiaoli'")
sqlite3.OperationalError: no such column: user_id
2017-08-30 21:27:44,353INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:30:27,634INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:41:10,442INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:46:53,868INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-30 21:48:25,665INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-31 08:31:02,858INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-31 08:34:33,313INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-31 08:34:59,491ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 82, in addpost
    cur.execute("SELECT * FROM followers")
sqlite3.ProgrammingError: Cannot operate on a closed database.
2017-08-31 08:36:20,943INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-31 08:38:11,203INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-31 08:38:23,814INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-31 08:38:32,246ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 71, in addpost
    cur.execute("DELETE FROM posts WHERE user_id > 0")
sqlite3.OperationalError: no such column: user_id
2017-08-31 08:39:32,247INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-31 08:40:27,774INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-08-31 08:41:26,377INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 08:25:34,073INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 08:25:49,524ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 64, in index
    posts = current_user.follow_posts()
  File "/usr/local/lib/python3.6/site-packages/werkzeug/local.py", line 347, in __getattr__
    return getattr(self._get_current_object(), name)
AttributeError: 'Users' object has no attribute 'follow_posts'
2017-09-05 08:26:22,882INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 08:26:39,055ERROR:Exception on /user/xiaoli [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 106, in user
    posts = current_user.follow_posts()
  File "/usr/local/lib/python3.6/site-packages/werkzeug/local.py", line 347, in __getattr__
    return getattr(self._get_current_object(), name)
AttributeError: 'Users' object has no attribute 'follow_posts'
2017-09-05 08:27:23,982INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 08:39:03,512INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 08:39:19,853ERROR:Exception on /posts [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 82, in posts
    return render_template(template_name,title = 'Posts',user=user,posts=posts)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 6, in block "content"
    {{ form.csrf_token }}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2017-09-05 08:42:10,428INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 08:47:27,351INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 08:47:36,873ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 54, in index
    userController.addpost(user_id = user_id,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 63, in addpost
    cur.execute("SELECT * FROM users")
sqlite3.ProgrammingError: Cannot operate on a closed database.
2017-09-05 08:48:09,310INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 08:50:03,529INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 08:57:45,337INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 09:04:58,049INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 09:04:59,417ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 65, in index
    posts =current_user.show_all_posts()
  File "/usr/local/lib/python3.6/site-packages/werkzeug/local.py", line 347, in __getattr__
    return getattr(self._get_current_object(), name)
AttributeError: 'Users' object has no attribute 'show_all_posts'
2017-09-05 09:05:50,551INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 09:06:00,702INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 09:06:02,045ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 65, in index
    posts =current_user.show_all_posts()
  File "/Users/xiaolli/PycharmProjects/microblog/app/models/models.py", line 73, in show_all_posts
    return session.query(Posts).all().order_by(Posts.timestamp.desc())
AttributeError: 'list' object has no attribute 'order_by'
2017-09-05 09:06:05,455ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 65, in index
    posts =current_user.show_all_posts()
  File "/Users/xiaolli/PycharmProjects/microblog/app/models/models.py", line 73, in show_all_posts
    return session.query(Posts).all().order_by(Posts.timestamp.desc())
AttributeError: 'list' object has no attribute 'order_by'
2017-09-05 09:06:34,984INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 09:12:29,393INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 09:12:53,310INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 09:13:19,276INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-05 09:13:36,792INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:07:31,105INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:12:47,292INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:12:49,125ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 74, in index
    return render_template(template_name,title='Home',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 26, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 6, in top-level template code
    <p>{{ post.author.nickname }} says: <b>{{ post.body }}</b></p>
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'sqlalchemy.util._collections.result object' has no attribute 'author'
2017-09-06 08:24:37,101INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:25:39,514INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:25:41,460ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 75, in index
    return render_template(template_name,title='Home',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 26, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 6, in top-level template code
    <p>{{ post.author.nickname }} says: <b>{{ post.body }}</b></p>
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'sqlalchemy.orm.query.Query object' has no attribute 'author'
2017-09-06 08:26:25,866INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:26:27,667ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 75, in index
    return render_template(template_name,title='Home',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 26, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 6, in top-level template code
    <p>{{ post.author.nickname }} says: <b>{{ post.body }}</b></p>
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'sqlalchemy.orm.query.Query object' has no attribute 'author'
2017-09-06 08:28:44,655INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:28:45,585ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 75, in index
    return render_template(template_name,title='Home',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 26, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 6, in top-level template code
    <p>{{ post.author.nickname }} says: <b>{{ post.body }}</b></p>
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'sqlalchemy.orm.query.Query object' has no attribute 'author'
2017-09-06 08:29:36,781INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:31:14,573INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:34:31,179INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:39:25,163INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:39:55,193INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:48:53,245INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:51:43,228INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 08:53:36,069INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 09:08:43,534INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 09:35:07,228INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 09:35:08,326ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 72, in index
    return render_template(template_name,title='Home',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 26, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 18, in top-level template code
    <a href="{{ url_for('unfollow',userid=user.post.userid)}}">Unfollow</a>
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'werkzeug.local.LocalProxy object' has no attribute 'post'
2017-09-06 09:35:56,032INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 09:35:59,747ERROR:Exception on /unfollow/3 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 233, in unfollow
    flash('User %s is not found' %user.nickname)
AttributeError: 'NoneType' object has no attribute 'nickname'
2017-09-06 09:38:11,627INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 09:40:25,211ERROR:Exception on /unfollow/4 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 235, in unfollow
    flash('User %s is not found' %user.nickname)
AttributeError: 'NoneType' object has no attribute 'nickname'
2017-09-06 09:42:04,661INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 09:42:07,564ERROR:Exception on /unfollow/4 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 236, in unfollow
    flash('User %s is not found' %user.nickname)
AttributeError: 'NoneType' object has no attribute 'nickname'
2017-09-06 09:42:35,667INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 09:42:38,917ERROR:Exception on /unfollow/4 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 237, in unfollow
    flash('User %s is not found' %user.nickname)
AttributeError: 'NoneType' object has no attribute 'nickname'
2017-09-06 09:45:46,178INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 09:45:50,446ERROR:Exception on /unfollow/3 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 237, in unfollow
    flash('User %s is not found' %user.nickname)
AttributeError: 'NoneType' object has no attribute 'nickname'
2017-09-06 09:47:19,731INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 09:47:23,517ERROR:Exception on /unfollow/3 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 235, in unfollow
    user = userController.query_byID(userid)
AttributeError: 'UserController' object has no attribute 'query_byID'
2017-09-06 09:48:04,984INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 10:46:48,838INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 10:46:50,270ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 66, in index
    postuser = userController.query_byId(posts.userid)
AttributeError: 'Query' object has no attribute 'userid'
2017-09-06 10:50:51,657INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 10:50:53,074ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 67, in index
    postuser = posts.userid
AttributeError: 'Query' object has no attribute 'userid'
2017-09-06 10:52:27,801INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 10:52:28,815ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 74, in index
    return render_template(template_name,title='Home',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 27, in template
    {% endfor %}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1005, in render
    return concat(self.root_render_func(self.new_context(vars)))
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 26, in block "content"
    {% include 'post_tmp.html' %}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 27, in template
    {% endfor %}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 497, in _parse
    return Parser(self, source, name, encode_filename(filename)).parse()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 896, in parse
    result = nodes.Template(self.subparse(), lineno=1)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 878, in subparse
    rv = self.parse_statement()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 130, in parse_statement
    return getattr(self, 'parse_' + self.stream.current.value)()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 198, in parse_for
    body = self.parse_statements(('name:endfor', 'name:else'))
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 165, in parse_statements
    result = self.subparse(end_tokens)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 878, in subparse
    rv = self.parse_statement()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 130, in parse_statement
    return getattr(self, 'parse_' + self.stream.current.value)()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 212, in parse_if
    'name:endif'))
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 165, in parse_statements
    result = self.subparse(end_tokens)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 878, in subparse
    rv = self.parse_statement()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 144, in parse_statement
    self.fail_unknown_tag(token.value, token.lineno)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 97, in fail_unknown_tag
    return self._fail_ut_eof(name, self._end_token_stack, lineno)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 90, in _fail_ut_eof
    self.fail(' '.join(message), lineno)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 59, in fail
    raise exc(msg, lineno, self.name, self.filename)
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2017-09-06 10:57:07,257INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 10:59:27,062INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 11:42:11,391INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 11:43:41,020INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 11:43:42,036ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 66, in index
    osts = g.show_all_posts().all()
  File "/usr/local/lib/python3.6/site-packages/werkzeug/local.py", line 347, in __getattr__
    return getattr(self._get_current_object(), name)
AttributeError: '_AppCtxGlobals' object has no attribute 'show_all_posts'
2017-09-06 11:43:54,701INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 11:43:55,571ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 66, in index
    posts = g.show_all_posts().all()
  File "/usr/local/lib/python3.6/site-packages/werkzeug/local.py", line 347, in __getattr__
    return getattr(self._get_current_object(), name)
AttributeError: '_AppCtxGlobals' object has no attribute 'show_all_posts'
2017-09-06 12:35:46,185ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 66, in index
    posts = current_user.show_all_posts()
  File "/usr/local/lib/python3.6/site-packages/werkzeug/local.py", line 347, in __getattr__
    return getattr(self._get_current_object(), name)
AttributeError: '_AppCtxGlobals' object has no attribute 'show_all_posts'
2017-09-06 13:25:52,061INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 13:59:44,232ERROR:Exception on /user/wang1 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 114, in user
    posts = posts
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 16, in block "content"
    <a href="{{ url_for('follow',username=user.username)}}">Follow</a>
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 333, in url_for
    return appctx.app.handle_url_build_error(error, endpoint, values)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1805, in handle_url_build_error
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 323, in url_for
    force_external=external)
  File "/usr/local/lib/python3.6/site-packages/werkzeug/routing.py", line 1768, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.BuildError: Could not build url for endpoint 'follow' with values ['username']. Did you forget to specify values ['userid']?
2017-09-06 14:03:17,236INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:31:11,218INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:32:54,065INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:32:55,378ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 74, in index
    return render_template(template_name,title='Home',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 25, in template
    {% endfor %}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1005, in render
    return concat(self.root_render_func(self.new_context(vars)))
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 26, in block "content"
    {% include 'post_tmp.html' %}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 25, in template
    {% endfor %}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 497, in _parse
    return Parser(self, source, name, encode_filename(filename)).parse()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 896, in parse
    result = nodes.Template(self.subparse(), lineno=1)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 878, in subparse
    rv = self.parse_statement()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 130, in parse_statement
    return getattr(self, 'parse_' + self.stream.current.value)()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 198, in parse_for
    body = self.parse_statements(('name:endfor', 'name:else'))
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 165, in parse_statements
    result = self.subparse(end_tokens)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 878, in subparse
    rv = self.parse_statement()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 130, in parse_statement
    return getattr(self, 'parse_' + self.stream.current.value)()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 212, in parse_if
    'name:endif'))
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 165, in parse_statements
    result = self.subparse(end_tokens)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 878, in subparse
    rv = self.parse_statement()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 144, in parse_statement
    self.fail_unknown_tag(token.value, token.lineno)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 97, in fail_unknown_tag
    return self._fail_ut_eof(name, self._end_token_stack, lineno)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 90, in _fail_ut_eof
    self.fail(' '.join(message), lineno)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 59, in fail
    raise exc(msg, lineno, self.name, self.filename)
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2017-09-06 14:34:00,051INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:34:01,410ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 74, in index
    return render_template(template_name,title='Home',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 25, in template
    {% endfor %}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1005, in render
    return concat(self.root_render_func(self.new_context(vars)))
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 26, in block "content"
    {% include 'post_tmp.html' %}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 25, in template
    {% endfor %}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 497, in _parse
    return Parser(self, source, name, encode_filename(filename)).parse()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 896, in parse
    result = nodes.Template(self.subparse(), lineno=1)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 878, in subparse
    rv = self.parse_statement()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 130, in parse_statement
    return getattr(self, 'parse_' + self.stream.current.value)()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 198, in parse_for
    body = self.parse_statements(('name:endfor', 'name:else'))
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 165, in parse_statements
    result = self.subparse(end_tokens)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 878, in subparse
    rv = self.parse_statement()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 130, in parse_statement
    return getattr(self, 'parse_' + self.stream.current.value)()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 212, in parse_if
    'name:endif'))
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 165, in parse_statements
    result = self.subparse(end_tokens)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 878, in subparse
    rv = self.parse_statement()
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 144, in parse_statement
    self.fail_unknown_tag(token.value, token.lineno)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 97, in fail_unknown_tag
    return self._fail_ut_eof(name, self._end_token_stack, lineno)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 90, in _fail_ut_eof
    self.fail(' '.join(message), lineno)
  File "/usr/local/lib/python3.6/site-packages/jinja2/parser.py", line 59, in fail
    raise exc(msg, lineno, self.name, self.filename)
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2017-09-06 14:34:33,833INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:34:35,755ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 74, in index
    return render_template(template_name,title='Home',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 26, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 15, in top-level template code
    {% if not current_user.is_following(userController.query_byId(post.userid)) %}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'userController' is undefined
2017-09-06 14:35:43,670INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:39:14,821INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:39:19,644ERROR:Exception on /follow/3 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 220, in follow
    u= current_user.follow(user)
  File "/Users/xiaolli/PycharmProjects/microblog/app/models/models.py", line 55, in follow
    if not self.is_following(user):
  File "/Users/xiaolli/PycharmProjects/microblog/app/models/models.py", line 67, in is_following
    return self.followed.filter(followers.c.followed_id == userid).count() > 0
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/operators.py", line 304, in __eq__
    return self.operate(eq, other)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 686, in operate
    return op(self.comparator, *other, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/operators.py", line 304, in __eq__
    return self.operate(eq, other)
  File "<string>", line 1, in <lambda>
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/type_api.py", line 63, in operate
    return o[0](self.expr, op, *(other + o[1:]), **kwargs)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/default_comparator.py", line 64, in _boolean_compare
    obj = _check_literal(expr, op, obj)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/default_comparator.py", line 305, in _check_literal
    return expr._bind_param(operator, other, type_=bindparam_type)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 3823, in _bind_param
    unique=True)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/elements.py", line 1094, in __init__
    _compared_to_operator, value)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/type_api.py", line 523, in coerce_compared_value
    _coerced_type = _resolve_value_to_type(value)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/sql/sqltypes.py", line 2621, in _resolve_value_to_type
    "Object %r is not legal as a SQL literal value" % value)
sqlalchemy.exc.ArgumentError: Object username:wang1,password:1111 is not legal as a SQL literal value
2017-09-06 14:43:08,207INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:43:12,232ERROR:Exception on /follow/3 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 220, in follow
    u= current_user.follow(user)
  File "/Users/xiaolli/PycharmProjects/microblog/app/models/models.py", line 56, in follow
    self.followed.append(user.id)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/dynamic.py", line 299, in append
    attributes.instance_dict(self.instance), item, None)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/dynamic.py", line 199, in append
    self.fire_append_event(state, dict_, value, initiator)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/dynamic.py", line 97, in fire_append_event
    value = fn(state, value, initiator or self._append_token)
  File "/usr/local/lib/python3.6/site-packages/sqlalchemy/orm/unitofwork.py", line 43, in append
    item_state = attributes.instance_state(item)
AttributeError: 'int' object has no attribute '_sa_instance_state'
2017-09-06 14:51:27,721INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:51:28,974ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 74, in index
    return render_template(template_name,title='Home',user=user,posts=posts,form=form)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 26, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 19, in top-level template code
    <a href="{{ url_for('unfollow',userid=user.username)}}">Unfollow</a>
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 333, in url_for
    return appctx.app.handle_url_build_error(error, endpoint, values)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1805, in handle_url_build_error
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/helpers.py", line 323, in url_for
    force_external=external)
  File "/usr/local/lib/python3.6/site-packages/werkzeug/routing.py", line 1768, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.BuildError: Could not build url for endpoint 'unfollow' with values ['userid']. Did you forget to specify values ['username']?
2017-09-06 14:53:18,944INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:55:11,536INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 14:58:54,118INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 15:04:22,708INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 15:06:51,475INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 15:12:45,822INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 15:14:01,405INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 15:40:49,506INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 15:40:50,977ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 65, in index
    followed_posts_results = current_user.followed_posts(page=page)
  File "/Users/xiaolli/PycharmProjects/microblog/app/models/models.py", line 70, in followed_posts
    limit = app.config['POSTS_PER_PAGE']
TypeError: 'module' object is not subscriptable
2017-09-06 15:42:34,815INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 15:47:13,245INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 15:47:29,383ERROR:Exception on /user/wang1 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 121, in user
    posts = posts
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 29, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 6, in top-level template code
    <p>{{ post.author.nickname }} says: <b>{{ post.body }}</b></p>
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'str object' has no attribute 'author'
2017-09-06 15:50:02,359INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 15:53:26,611INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 15:53:30,339ERROR:Exception on /user/wang1 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 121, in user
    posts = posts
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 29, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 6, in top-level template code
    <p>{{ post.author.nickname }} says: <b>{{ post.body }}</b></p>
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'str object' has no attribute 'author'
2017-09-06 15:56:14,119ERROR:Exception on /posts [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 94, in posts
    return render_template(template_name,title = 'Posts',user=user,posts=posts)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 6, in block "content"
    {{ form.csrf_token }}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2017-09-06 15:56:21,310ERROR:Exception on /posts [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 94, in posts
    return render_template(template_name,title = 'Posts',user=user,posts=posts)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 6, in block "content"
    {{ form.csrf_token }}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'form' is undefined
2017-09-06 15:58:58,127INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 16:13:59,496INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 16:14:12,247ERROR:Exception on /user/wang1 [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 121, in user
    posts = posts
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 31, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/user.html", line 30, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 6, in top-level template code
    <p>{{ post.author.nickname }} says: <b>{{ post.body }}</b></p>
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'str object' has no attribute 'author'
2017-09-06 16:18:06,765INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 16:19:57,366INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 16:24:53,622INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 16:28:12,558INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 16:31:36,549INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-06 17:17:40,311INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:41:10,274INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:42:09,946INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:43:05,643INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:43:41,695INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:45:01,758INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:48:32,251INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:51:19,673INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:52:17,122INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:54:45,517INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:57:10,017INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:57:33,250INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:57:53,070INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:58:14,327INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 08:58:30,567INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 09:03:31,114INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 09:07:34,801INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 09:08:11,548INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 09:09:47,932INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 09:20:26,495INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 09:51:43,652INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 09:54:39,220INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 09:56:20,457INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 13:35:29,907INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 13:35:47,446INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 13:54:55,213INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 14:45:17,456INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 14:45:18,924ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 82, in index
    has_next_page=has_next_page,next_page_num=next_page_num)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 19, in top-level template code
    {{ g.search_form(size =20) }}
AttributeError: 'SearchForm' object has no attribute '__call__'
2017-09-07 15:05:46,610INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:05:48,033ERROR:Exception on / [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 82, in index
    has_next_page=has_next_page,next_page_num=next_page_num)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/posts.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 18, in top-level template code
    {{ g.search_form.csrf_token }}
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'flask.ctx._AppCtxGlobals object' has no attribute 'search_form'
2017-09-07 15:09:24,726INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:09:52,744ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 27, in create_index
    content=post_body)
  File "/usr/local/lib/python3.6/site-packages/whoosh/writing.py", line 730, in add_document
    self._check_fields(schema, fieldnames)
  File "/usr/local/lib/python3.6/site-packages/whoosh/writing.py", line 718, in _check_fields
    % (name, schema))
whoosh.fields.UnknownFieldError: No field named 'content' in <Schema: ['nickname', 'post_body', 'post_id', 'user_id']>
2017-09-07 15:11:32,458INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:11:55,707ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 27, in create_index
    content=post_body)
  File "/usr/local/lib/python3.6/site-packages/whoosh/writing.py", line 730, in add_document
    self._check_fields(schema, fieldnames)
  File "/usr/local/lib/python3.6/site-packages/whoosh/writing.py", line 718, in _check_fields
    % (name, schema))
whoosh.fields.UnknownFieldError: No field named 'content' in <Schema: ['nickname', 'post_body', 'post_id', 'user_id']>
2017-09-07 15:13:30,526INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:13:46,366ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 27, in create_index
    content=post_body)
  File "/usr/local/lib/python3.6/site-packages/whoosh/writing.py", line 730, in add_document
    self._check_fields(schema, fieldnames)
  File "/usr/local/lib/python3.6/site-packages/whoosh/writing.py", line 718, in _check_fields
    % (name, schema))
whoosh.fields.UnknownFieldError: No field named 'content' in <Schema: ['nickname', 'post_body', 'post_id', 'user_id']>
2017-09-07 15:15:38,433INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:16:20,364INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:16:37,377ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 27, in create_index
    content=post_body)
  File "/usr/local/lib/python3.6/site-packages/whoosh/writing.py", line 730, in add_document
    self._check_fields(schema, fieldnames)
  File "/usr/local/lib/python3.6/site-packages/whoosh/writing.py", line 718, in _check_fields
    % (name, schema))
whoosh.fields.UnknownFieldError: No field named 'content' in <Schema: ['nickname', 'post_body', 'post_id', 'user_id']>
2017-09-07 15:24:41,103INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:25:03,568ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 11, in create_index
    Schema.clean()
TypeError: clean() missing 1 required positional argument: 'self'
2017-09-07 15:25:37,138INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:25:42,667ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 28, in create_index
    content=post_body)
  File "/usr/local/lib/python3.6/site-packages/whoosh/writing.py", line 730, in add_document
    self._check_fields(schema, fieldnames)
  File "/usr/local/lib/python3.6/site-packages/whoosh/writing.py", line 718, in _check_fields
    % (name, schema))
whoosh.fields.UnknownFieldError: No field named 'content' in <Schema: ['nickname', 'post_body', 'post_id', 'user_id']>
2017-09-07 15:28:08,405INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:28:14,074ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 11, in create_index
    Schema().remove(user_id)
  File "/usr/local/lib/python3.6/site-packages/whoosh/fields.py", line 1508, in remove
    raise KeyError("No field named %r" % fieldname)
KeyError: 'No field named 3'
2017-09-07 15:29:08,264INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:29:20,666ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 11, in create_index
    Schema().remove('user_id')
  File "/usr/local/lib/python3.6/site-packages/whoosh/fields.py", line 1508, in remove
    raise KeyError("No field named %r" % fieldname)
KeyError: "No field named 'user_id'"
2017-09-07 15:29:43,594INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:29:52,162ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 11, in create_index
    Schema().remove(user_id)
  File "/usr/local/lib/python3.6/site-packages/whoosh/fields.py", line 1508, in remove
    raise KeyError("No field named %r" % fieldname)
KeyError: 'No field named 3'
2017-09-07 15:30:51,291INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:30:59,508ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 11, in create_index
    Schema().remove(fieldname='user_id')
  File "/usr/local/lib/python3.6/site-packages/whoosh/fields.py", line 1508, in remove
    raise KeyError("No field named %r" % fieldname)
KeyError: "No field named 'user_id'"
2017-09-07 15:31:16,264INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 15:31:26,454ERROR:Exception on / [POST][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 55, in index
    userController.addpost(user_id = user_id,nickname=user_nickname,post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/usercontroller.py", line 57, in addpost
    post_body=post_body)
  File "/Users/xiaolli/PycharmProjects/microblog/app/controller/full_text_search.py", line 11, in create_index
    Schema.remove(fieldname='user_id')
TypeError: remove() missing 1 required positional argument: 'self'
2017-09-07 16:02:49,700INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:04:11,392INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:04:53,843INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:04:59,123INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:18:20,900INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:22:36,237INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:25:40,215INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:32:39,380INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:34:18,178INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:36:52,881INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:37:59,077INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:39:02,587INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:42:26,282INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:43:10,981INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:50:57,345INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:51:46,787INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:53:11,015INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 16:56:01,724INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:06:28,137INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:06:39,905INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:09:17,854INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:10:30,631INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:12:21,483INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:22:59,321INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:24:51,443INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:26:11,646INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:29:00,746INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:29:13,730INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:29:48,927INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-07 17:31:12,104INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 08:22:41,869INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 08:33:06,917INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 08:33:13,110INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 08:39:14,941INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 15:38:48,797INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 15:40:34,870INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 15:44:21,949INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 15:50:15,602INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 15:50:23,253ERROR:Exception on /search_results/what [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 353, in search_results
    return render_template(template_name,title='Search Resluts',posts =posts,query=query)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/search_results.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 39, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/search_results.html", line 4, in block "content"
    <!--h1>Hello,{{ user.nickname }}</h1-->
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'user' is undefined
2017-09-08 15:51:37,624INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 15:52:42,003INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 15:52:54,726ERROR:Exception on /search_results/what [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 353, in search_results
    return render_template(template_name,title='Search Resluts',posts =posts,query=query,user=user)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/search_results.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 39, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/search_results.html", line 5, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 4, in top-level template code
    <td><img src ="{{user.get_imgpath()}}" style="display:flex" width="50" height = "50"></td>
jinja2.exceptions.UndefinedError: 'function object' has no attribute 'get_imgpath'
2017-09-08 16:05:46,126INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:05:51,247ERROR:Exception on /search_results/what [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 363, in search_results
    return render_template(template_name, title='Search Resluts', posts=posts, query=query)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/search_results.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 39, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/search_results.html", line 4, in block "content"
    <!--h1>Hello,{{ user.nickname }}</h1-->
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'user' is undefined
2017-09-08 16:07:34,218INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:07:41,523ERROR:Exception on /search_results/what [GET][in /usr/local/lib/python3.6/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.6/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/usr/local/lib/python3.6/site-packages/flask_login/utils.py", line 228, in decorated_view
    return func(*args, **kwargs)
  File "/Users/xiaolli/PycharmProjects/microblog/app/views/microblogviews.py", line 363, in search_results
    return render_template(template_name, title='Search Resluts', posts=posts, query=query)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 134, in render_template
    context, ctx.app)
  File "/usr/local/lib/python3.6/site-packages/flask/templating.py", line 116, in _render
    rv = template.render(context)
  File "/usr/local/lib/python3.6/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/usr/local/lib/python3.6/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/search_results.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/base.html", line 39, in top-level template code
    {% block content %}{% endblock %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/search_results.html", line 5, in block "content"
    {% include 'post_tmp.html' %}
  File "/Users/xiaolli/PycharmProjects/microblog/app/templates/post_tmp.html", line 4, in top-level template code
    <td><img src="{{ user.get_imgpath() }}" style="display:flex" width="50" height="50"></td>
  File "/usr/local/lib/python3.6/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'user' is undefined
2017-09-08 16:13:13,507INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:15:09,083INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:19:02,924INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:19:33,561INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:21:51,004INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:23:37,321INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:24:23,440INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:24:32,184INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:26:07,884INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:26:30,356INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:26:48,920INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 16:28:29,436INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 17:03:31,580INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 17:13:13,301INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 17:37:13,047INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
2017-09-08 17:37:55,839INFO:microblog startup[in /Users/xiaolli/PycharmProjects/microblog/app/__init__.py:46]
